# 阿里云安全组配置修复指南

## 问题诊断
✅ 后端服务运行正常（Node.js进程38397监听0.0.0.0:3000）
✅ 服务器防火墙已配置（UFW允许3000端口）
❌ **问题：阿里云安全组未开放3000端口**

## 解决方案：配置阿里云安全组

### 步骤1：登录阿里云控制台
1. 访问 [阿里云控制台](https://ecs.console.aliyun.com)
2. 选择您的ECS实例所在的地域

### 步骤2：配置安全组规则
1. 进入 **网络与安全** → **安全组**
2. 找到您的实例关联的安全组（通常是 `sg-bp1***` 格式）
3. 点击 **安全组ID** 进入配置页面

### 步骤3：添加入方向规则
点击 **手动添加** 规则：

| 配置项 | 值 |
|--------|-----|
| **端口范围** | 3000/3000 |
| **授权对象** | 0.0.0.0/0 (允许所有IP访问) |
| **协议类型** | TCP |
| **优先级** | 1 |
| **描述** | 购物网站后端端口 |

### 步骤4：保存配置
1. 点击 **确定** 保存规则
2. 等待1-2分钟规则生效

## 验证配置
配置完成后，在浏览器中访问：
- 首页：http://8.148.199.180:3000
- 登录页面：http://8.148.199.180:3000/login
- 管理后台：http://8.148.199.180:3000/admin

## 故障排除
如果配置后仍无法访问：
1. 检查规则是否已生效（等待2-3分钟）
2. 确认实例状态为"运行中"
3. 重启实例安全组服务

## 技术详情
- 服务器内部测试：✅ 正常
- 端口监听：✅ 0.0.0.0:3000
- 防火墙：✅ UFW已允许3000
- 安全组：❌ **需要配置**