# 阿里云ECS安全组开放3000端口详细指南

## 📋 前置准备
- 阿里云账号
- 已有ECS实例（IP: 8.148.199.180）
- 实例必须处于**运行中**状态

## 🚀 操作步骤

### 步骤1：登录阿里云控制台
1. 访问 https://ecs.console.aliyun.com/
2. 使用您的阿里云账号登录

### 步骤2：找到您的ECS实例
1. 在左侧菜单中选择 **"实例"**
2. 在实例列表中找到 IP 为 `8.148.199.180` 的实例
3. 点击该实例的 **"实例ID"** 进入详情页

### 步骤3：查看当前安全组
1. 在实例详情页，点击 **"安全组"** 标签页
2. 记录安全组ID（格式如：sg-xxxxxxxx）
3. 点击安全组ID进入安全组配置页面

### 步骤4：添加3000端口规则
1. 在安全组详情页，点击 **"手动添加"** 按钮
2. 填写以下信息：

```
端口范围: 3000/3000
授权对象: 0.0.0.0/0
优先级: 1
描述: Node.js前端服务端口
协议类型: TCP
```

3. 点击 **"确认"** 保存

### 步骤5：验证配置
等待1-2分钟后，使用以下命令测试：

```bash
curl -I http://8.148.199.180:3000/
```

## ⚠️ 注意事项
1. **安全风险**: 开放0.0.0.0/0允许所有IP访问，如有安全要求请限制IP范围
2. **生效时间**: 配置生效可能需要1-2分钟
3. **重复规则**: 如果已存在3000端口规则，无需重复添加

## 🧪 测试命令
配置完成后，在本地运行以下命令测试：

```bash
# 测试首页访问
curl -I http://8.148.199.180:3000/

# 测试登录页
curl -I http://8.148.199.180:3000/login.html

# 测试API
curl http://8.148.199.180:3000/api
```

## 🔄 如果仍然无法访问
1. 检查阿里云ECS防火墙：`ufw status`
2. 重启nginx服务：`sudo systemctl restart nginx`
3. 检查Node.js服务状态：`ps aux | grep node`

## 📞 获取帮助
如果操作过程中遇到问题，请截图错误信息或联系阿里云技术支持。